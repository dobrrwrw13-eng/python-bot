# BGPK Bot - Telegram –±–æ—Ç –¥–ª—è –∫–æ–ª–µ–¥–∂—É

–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –¥–ª—è –ë–µ—Ä–¥—è–Ω—Å—å–∫–æ–≥–æ –∫–æ–ª–µ–¥–∂—É –ø–µ–¥–∞–≥–æ–≥—ñ–∫–∏ —ñ –∫—É–ª—å—Ç—É—Ä–∏ (BGPK) –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥–æ–º, –∞–Ω–æ–Ω—Å–∞–º–∏, –∑–∞—è–≤–∫–∞–º–∏ —Ç–∞ –Ω–æ–≤–∏–Ω–∞–º–∏.

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- üìÖ –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–æ–∑–∫–ª–∞–¥—É —É—Ä–æ–∫—ñ–≤
- üì¢ –ê–Ω–æ–Ω—Å–∏ —ñ –Ω–æ–≤–∏–Ω–∏ –∫–æ–ª–µ–¥–∂—É
- üìã –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∞—á—ñ –∑–∞—è–≤–æ–∫ —á–µ—Ä–µ–∑ Firebase
- üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Ä–æ–∑–∫–ª–∞–¥
- üë• –ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- üìß Email —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –ø—Ä–∏–π–Ω—è—Ç—Ç—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –∑–∞—è–≤–æ–∫
- üîê –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏

## –í–∏–º–æ–≥–∏

- Python 3.8+
- Telegram Bot Token
- Firebase Firestore –ø—Ä–æ–µ–∫—Ç
- Email —Å–∫—Ä–∏–Ω—å–∫–∞ (–¥–ª—è Namecheap –¥–æ–º–µ–Ω—É)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
```bash
git clone https://github.com/your-username/bgpk-bot.git
cd bgpk-bot
```

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è:**
```bash
python3 -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
```

3. **–£—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
```bash
pip install -r requirements.txt
```

4. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp .env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env` —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –¥–∞–Ω–∏–º–∏:
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ –≤—ñ–¥ @BotFather
- `EMAIL_PASSWORD` - –ø–∞—Ä–æ–ª—å –≤—ñ–¥ –≤–∞—à–æ—ó email —Å–∫—Ä–∏–Ω—å–∫–∏
- –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ `serviceAccountKey.json` –∑ Firebase Console

5. **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π—Ç–µ –ë–î (–ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑):**
```bash
python3 bot_bgpk.py
```

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Telegram Bot
1. –ù–∞–ø–∏—à—ñ—Ç—å @BotFather –≤ Telegram
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å /newbot
3. –í–∏–∫–æ–Ω–∞–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó —ñ –æ—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–æ–∫–µ–Ω
4. –ü–æ–º—ñ—Å—Ç—ñ—Ç—å —Ç–æ–∫–µ–Ω —É `.env`

### Firebase
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://console.firebase.google.com
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç
3. –ê–∫—Ç–∏–≤—É–π—Ç–µ Firestore Database
4. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Settings ‚Üí Service Accounts
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Generate New Private Key" 
6. –°–æ—Ö—Ä–∞–Ω—ñ—Ç—å —Ñ–∞–π–ª —è–∫ `serviceAccountKey.json` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç—É

### Email (Namecheap)
1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ Namecheap
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ Private Email
3. –í–∫–∞–∂—ñ—Ç—å email –∞–¥—Ä–µ—Å—É —ñ –ø–∞—Ä–æ–ª—å —É `.env`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
bgpk-bot/
‚îú‚îÄ‚îÄ bot_bgpk.py           # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ students.db           # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
‚îú‚îÄ‚îÄ requirements.txt      # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env.example         # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ .gitignore          # –§–∞–π–ª–∏ —â–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –≤ git
‚îî‚îÄ‚îÄ README.md           # –¶–µ–π —Ñ–∞–π–ª
```

## –ó–∞–ø—É—Å–∫

```bash
python3 bot_bgpk.py
```

–ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —ñ –ø–æ—á–Ω–µ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

## –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±–µ–∑–ø–µ–∫–æ—é

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:**
- –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª!
- –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ `serviceAccountKey.json`!
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç—ñ–ª—å–∫–∏ `.env.example` —è–∫ —à–∞–±–ª–æ–Ω
- –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç—É–π—Ç–µ —Ç–æ–∫–µ–Ω–∏ —ñ –ø–∞—Ä–æ–ª—ñ

## –†–æ–∑—Ä–æ–±–∫–∞

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ–º–∞–Ω–¥

–î–æ–¥–∞–π—Ç–µ –æ–±—Ä–æ–±–Ω–∏–∫ –≤ `bot_bgpk.py`:

```python
@dp.message(F.text == "–ù–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏")
async def handle_command(message: types.Message):
    await message.answer("–í—ñ–¥–ø–æ–≤—ñ–¥—å")
```

### –†–æ–±–æ—Ç–∏ –∑ Firebase

```python
doc = applications_listener.db.collection('applications').document(doc_id).get()
data = doc.to_dict()
```

## –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ (Linux/Ubuntu)

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh user@your-server.com

# –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/your-username/bgpk-bot.git
cd bgpk-bot

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# –°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –¥–∞–Ω–∏–º–∏
nano .env

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ tmux –∞–±–æ systemd)
tmux new-session -d -s bgpk-bot "python3 bot_bgpk.py"
```

### –ß–µ—Ä–µ–∑ systemd (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–°—Ç–≤–æ—Ä—ñ—Ç—å `/etc/systemd/system/bgpk-bot.service`:

```ini
[Unit]
Description=BGPK Telegram Bot
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/var/www/bgpk-bot
Environment="PATH=/var/www/bgpk-bot/venv/bin"
ExecStart=/var/www/bgpk-bot/venv/bin/python3 bot_bgpk.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–ü–æ—Ç—ñ–º –∑–∞–ø—É—Å—Ç—ñ—Ç—å:
```bash
sudo systemctl enable bgpk-bot
sudo systemctl start bgpk-bot
```

## –ü–æ—Ç–æ—á–Ω—ñ —Å—Ç–∞—Ç—É—Å–∏

- ‚úÖ –†–æ–∑–∫–ª–∞–¥ —É—Ä–æ–∫—ñ–≤
- ‚úÖ –ê–Ω–æ–Ω—Å–∏ –∑ —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ –∑ Firebase
- ‚úÖ –ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ Email —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- ‚úÖ –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤–∏–Ω–∏
- ‚úÖ –§–æ–Ω–æ–≤–∏–π —Ç–∞—Å–∫ –¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å

## –î–æ–ø–æ–º–æ–≥–∞

–Ø–∫—â–æ —É –≤–∞—Å —î –ø–∏—Ç–∞–Ω–Ω—è, —Å—Ç–≤–æ—Ä—ñ—Ç—å Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

## –ê–≤—Ç–æ—Ä

BGPK Development Team
